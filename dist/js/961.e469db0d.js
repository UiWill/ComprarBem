"use strict";(self["webpackChunkcomprar_bem"]=self["webpackChunkcomprar_bem"]||[]).push([[961],{9961:(t,o,a)=>{a.r(o),a.d(o,{default:()=>l});var s=function(){var t=this,o=t._self._c;return t.produto?o("div",{staticClass:"detalhe-produto"},[o("h2",[t._v("Detalhes do Produto")]),o("div",{staticClass:"card-produto"},[o("div",{staticClass:"info-grupo"},[o("div",{staticClass:"info-item"},[o("strong",[t._v("Nome:")]),t._v(" "+t._s(t.produto.nome)+" ")]),o("div",{staticClass:"info-item"},[o("strong",[t._v("Categoria:")]),t._v(" "+t._s(t.categoriaNome)+" ")])]),o("div",{staticClass:"info-grupo"},[o("div",{staticClass:"info-item"},[o("strong",[t._v("Marca:")]),t._v(" "+t._s(t.produto.marca)+" ")]),o("div",{staticClass:"info-item"},[o("strong",[t._v("Modelo:")]),t._v(" "+t._s(t.produto.modelo)+" ")])]),o("div",{staticClass:"info-grupo"},[o("div",{staticClass:"info-item"},[o("strong",[t._v("Fabricante:")]),t._v(" "+t._s(t.produto.fabricante)+" ")]),o("div",{staticClass:"info-item"},[o("strong",[t._v("CNPJ:")]),t._v(" "+t._s(t.produto.cnpj)+" ")])]),o("div",{staticClass:"info-item full-width"},[o("strong",[t._v("Descrição:")]),o("p",[t._v(t._s(t.produto.descricao))])]),o("div",{staticClass:"info-item full-width"},[o("strong",[t._v("Status:")]),o("span",{staticClass:"status-badge",class:"status-"+t.produto.status},[t._v(" "+t._s(t.statusFormatado)+" ")])]),o("div",{staticClass:"documentos-section"},[o("h3",[t._v("Documentos")]),t.loading?o("div",{staticClass:"loading-docs"},[t._v(" Carregando documentos... ")]):0===t.documentos.length?o("div",{staticClass:"no-docs"},[t._v(" Nenhum documento associado a este produto. ")]):o("div",{staticClass:"documentos-lista"},t._l(t.documentos,(function(a){return o("div",{key:a.id,staticClass:"documento-item"},[o("div",{staticClass:"doc-info"},[o("i",{staticClass:"doc-icon",class:t.getDocumentIcon(a.tipo)}),o("span",{staticClass:"doc-nome"},[t._v(t._s(a.nome))])]),o("div",{staticClass:"doc-actions"},[o("a",{staticClass:"btn-download",attrs:{href:a.arquivo_url,target:"_blank"}},[t._v(" Visualizar ")]),o("button",{staticClass:"btn-download",on:{click:function(o){return t.downloadDocument(a)}}},[t._v(" Download ")])])])})),0)])]),o("div",{staticClass:"actions"},[o("button",{staticClass:"btn-secondary",on:{click:t.voltar}},[t._v("Voltar")])])]):o("div",{staticClass:"loading"},[t._v(" Carregando detalhes do produto... ")])},r=[],i=a(452);const e={name:"DetalheProduto",props:{produtoId:{type:String,required:!0}},data(){return{produto:null,documentos:[],categorias:[],loading:!0}},computed:{categoriaNome(){if(!this.produto||!this.produto.categoria_id)return"N/A";const t=this.categorias.find((t=>t.id===this.produto.categoria_id));return t?t.nome:"N/A"},statusFormatado(){const t={pendente:"Pendente de Aprovação",aprovado:"Aprovado",rejeitado:"Rejeitado"};return t[this.produto.status]||this.produto.status}},async created(){await this.carregarCategorias(),await this.carregarProduto()},methods:{async carregarCategorias(){try{const{data:t,error:o}=await i.ND.from("categorias").select("*");if(o)throw o;this.categorias=t||[]}catch(t){console.error("Erro ao carregar categorias:",t)}},async carregarProduto(){try{const{data:t,error:o}=await i.ND.from("produtos").select("*").eq("id",this.produtoId).single();if(o)throw o;this.produto=t,await this.carregarDocumentos()}catch(t){console.error("Erro ao carregar produto:",t),this.$swal({icon:"error",title:"Erro ao carregar produto",text:"Não foi possível carregar os detalhes do produto."})}finally{this.loading=!1}},async carregarDocumentos(){try{this.loading=!0;const{data:t,error:o}=await i.ND.from("documentos").select("*").eq("produto_id",this.produtoId);if(o)throw o;this.documentos=t||[]}catch(t){console.error("Erro ao carregar documentos:",t)}finally{this.loading=!1}},getDocumentIcon(t){return t.includes("pdf")?"icon-pdf":t.includes("image")?"icon-image":t.includes("word")||t.includes("document")?"icon-doc":t.includes("excel")||t.includes("sheet")?"icon-excel":"icon-file"},downloadDocument(t){const o=document.createElement("a");o.href=t.arquivo_url,o.download=t.nome,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o)},voltar(){this.$router.back()}}},c=e;var d=a(1656),n=(0,d.A)(c,s,r,!1,null,"10100f43",null);const l=n.exports}}]);
//# sourceMappingURL=961.e469db0d.js.map