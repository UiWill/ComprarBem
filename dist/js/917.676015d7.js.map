{"version":3,"file":"js/917.676015d7.js","mappings":"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","sources":["webpack://comprar-bem/./src/components/produtos/DetalheProduto.vue","webpack://comprar-bem/src/components/produtos/DetalheProduto.vue","webpack://comprar-bem/./src/components/produtos/DetalheProduto.vue?4f0a","webpack://comprar-bem/./src/components/produtos/DetalheProduto.vue?f57c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.produto)?_c('div',{staticClass:\"detalhe-produto\"},[_c('h2',[_vm._v(\"Detalhes do Produto\")]),_c('div',{staticClass:\"card-produto\"},[_c('div',{staticClass:\"info-grupo\"},[_c('div',{staticClass:\"info-item\"},[_c('strong',[_vm._v(\"Nome:\")]),_vm._v(\" \"+_vm._s(_vm.produto.nome)+\" \")]),_c('div',{staticClass:\"info-item\"},[_c('strong',[_vm._v(\"Categoria:\")]),_vm._v(\" \"+_vm._s(_vm.categoriaNome)+\" \")])]),_c('div',{staticClass:\"info-grupo\"},[_c('div',{staticClass:\"info-item\"},[_c('strong',[_vm._v(\"Marca:\")]),_vm._v(\" \"+_vm._s(_vm.produto.marca)+\" \")]),_c('div',{staticClass:\"info-item\"},[_c('strong',[_vm._v(\"Modelo:\")]),_vm._v(\" \"+_vm._s(_vm.produto.modelo)+\" \")])]),_c('div',{staticClass:\"info-grupo\"},[_c('div',{staticClass:\"info-item\"},[_c('strong',[_vm._v(\"Fabricante:\")]),_vm._v(\" \"+_vm._s(_vm.produto.fabricante)+\" \")]),_c('div',{staticClass:\"info-item\"},[_c('strong',[_vm._v(\"CNPJ:\")]),_vm._v(\" \"+_vm._s(_vm.produto.cnpj)+\" \")])]),_c('div',{staticClass:\"info-item full-width\"},[_c('strong',[_vm._v(\"Descrição:\")]),_c('p',[_vm._v(_vm._s(_vm.produto.descricao))])]),_c('div',{staticClass:\"info-item full-width\"},[_c('strong',[_vm._v(\"Status:\")]),_c('span',{staticClass:\"status-badge\",class:'status-' + _vm.produto.status},[_vm._v(\" \"+_vm._s(_vm.statusFormatado)+\" \")])]),_c('div',{staticClass:\"documentos-section\"},[_c('h3',[_vm._v(\"Documentos\")]),(_vm.loading)?_c('div',{staticClass:\"loading-docs\"},[_vm._v(\" Carregando documentos... \")]):(_vm.documentos.length === 0)?_c('div',{staticClass:\"no-docs\"},[_vm._v(\" Nenhum documento associado a este produto. \")]):_c('div',{staticClass:\"documentos-lista\"},_vm._l((_vm.documentos),function(doc){return _c('div',{key:doc.id,staticClass:\"documento-item\"},[_c('div',{staticClass:\"doc-info\"},[_c('i',{staticClass:\"doc-icon\",class:_vm.getDocumentIcon(doc.tipo)}),_c('span',{staticClass:\"doc-nome\"},[_vm._v(_vm._s(doc.nome))])]),_c('div',{staticClass:\"doc-actions\"},[_c('a',{staticClass:\"btn-download\",attrs:{\"href\":doc.arquivo_url,\"target\":\"_blank\"}},[_vm._v(\" Visualizar \")]),_c('button',{staticClass:\"btn-download\",on:{\"click\":function($event){return _vm.downloadDocument(doc)}}},[_vm._v(\" Download \")])])])}),0)])]),_c('div',{staticClass:\"actions\"},[_c('button',{staticClass:\"btn-secondary\",on:{\"click\":_vm.voltar}},[_vm._v(\"Voltar\")])])]):_c('div',{staticClass:\"loading\"},[_vm._v(\" Carregando detalhes do produto... \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detalhe-produto\" v-if=\"produto\">\n    <h2>Detalhes do Produto</h2>\n    \n    <div class=\"card-produto\">\n      <div class=\"info-grupo\">\n        <div class=\"info-item\">\n          <strong>Nome:</strong> {{ produto.nome }}\n        </div>\n        <div class=\"info-item\">\n          <strong>Categoria:</strong> {{ categoriaNome }}\n        </div>\n      </div>\n      \n      <div class=\"info-grupo\">\n        <div class=\"info-item\">\n          <strong>Marca:</strong> {{ produto.marca }}\n        </div>\n        <div class=\"info-item\">\n          <strong>Modelo:</strong> {{ produto.modelo }}\n        </div>\n      </div>\n      \n      <div class=\"info-grupo\">\n        <div class=\"info-item\">\n          <strong>Fabricante:</strong> {{ produto.fabricante }}\n        </div>\n        <div class=\"info-item\">\n          <strong>CNPJ:</strong> {{ produto.cnpj }}\n        </div>\n      </div>\n      \n      <div class=\"info-item full-width\">\n        <strong>Descrição:</strong>\n        <p>{{ produto.descricao }}</p>\n      </div>\n      \n      <div class=\"info-item full-width\">\n        <strong>Status:</strong>\n        <span class=\"status-badge\" :class=\"'status-' + produto.status\">\n          {{ statusFormatado }}\n        </span>\n      </div>\n      \n      <!-- Seção de documentos -->\n      <div class=\"documentos-section\">\n        <h3>Documentos</h3>\n        <div v-if=\"loading\" class=\"loading-docs\">\n          Carregando documentos...\n        </div>\n        <div v-else-if=\"documentos.length === 0\" class=\"no-docs\">\n          Nenhum documento associado a este produto.\n        </div>\n        <div v-else class=\"documentos-lista\">\n          <div v-for=\"doc in documentos\" :key=\"doc.id\" class=\"documento-item\">\n            <div class=\"doc-info\">\n              <i class=\"doc-icon\" :class=\"getDocumentIcon(doc.tipo)\"></i>\n              <span class=\"doc-nome\">{{ doc.nome }}</span>\n            </div>\n            <div class=\"doc-actions\">\n              <a :href=\"doc.arquivo_url\" target=\"_blank\" class=\"btn-download\">\n                Visualizar\n              </a>\n              <button @click=\"downloadDocument(doc)\" class=\"btn-download\">\n                Download\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"actions\">\n      <button @click=\"voltar\" class=\"btn-secondary\">Voltar</button>\n    </div>\n  </div>\n  \n  <div v-else class=\"loading\">\n    Carregando detalhes do produto...\n  </div>\n</template>\n\n<script>\nimport { supabase } from '@/services/supabase'\nimport { ref, onMounted } from 'vue'\n\nexport default {\n  name: 'DetalheProduto',\n  props: {\n    produtoId: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      produto: null,\n      documentos: [],\n      categorias: [],\n      loading: true\n    }\n  },\n  computed: {\n    categoriaNome() {\n      if (!this.produto || !this.produto.categoria_id) return 'N/A'\n      \n      const categoria = this.categorias.find(c => c.id === this.produto.categoria_id)\n      return categoria ? categoria.nome : 'N/A'\n    },\n    statusFormatado() {\n      const statusMap = {\n        'pendente': 'Pendente de Aprovação',\n        'aprovado': 'Aprovado',\n        'rejeitado': 'Rejeitado'\n      }\n      \n      return statusMap[this.produto.status] || this.produto.status\n    }\n  },\n  async created() {\n    await this.carregarCategorias()\n    await this.carregarProduto()\n  },\n  methods: {\n    async carregarCategorias() {\n      try {\n        const { data, error } = await supabase\n          .from('categorias')\n          .select('*')\n        \n        if (error) throw error\n        \n        this.categorias = data || []\n      } catch (error) {\n        console.error('Erro ao carregar categorias:', error)\n      }\n    },\n    async carregarProduto() {\n      try {\n        // Carregar dados do produto\n        const { data: produto, error: produtoError } = await supabase\n          .from('produtos')\n          .select('*')\n          .eq('id', this.produtoId)\n          .single()\n        \n        if (produtoError) throw produtoError\n        \n        this.produto = produto\n        \n        // Carregar documentos do produto\n        await this.carregarDocumentos()\n      } catch (error) {\n        console.error('Erro ao carregar produto:', error)\n        this.$swal({\n          icon: 'error',\n          title: 'Erro ao carregar produto',\n          text: 'Não foi possível carregar os detalhes do produto.'\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n    async carregarDocumentos() {\n      try {\n        this.loading = true\n        \n        const { data, error } = await supabase\n          .from('documentos')\n          .select('*')\n          .eq('produto_id', this.produtoId)\n        \n        if (error) throw error\n        \n        this.documentos = data || []\n      } catch (error) {\n        console.error('Erro ao carregar documentos:', error)\n      } finally {\n        this.loading = false\n      }\n    },\n    getDocumentIcon(tipo) {\n      // Retorna uma classe de ícone com base no tipo MIME do documento\n      if (tipo.includes('pdf')) {\n        return 'icon-pdf'\n      } else if (tipo.includes('image')) {\n        return 'icon-image'\n      } else if (tipo.includes('word') || tipo.includes('document')) {\n        return 'icon-doc'\n      } else if (tipo.includes('excel') || tipo.includes('sheet')) {\n        return 'icon-excel'\n      } else {\n        return 'icon-file'\n      }\n    },\n    downloadDocument(doc) {\n      // Cria um link temporário para download\n      const link = document.createElement('a')\n      link.href = doc.arquivo_url\n      link.download = doc.nome\n      link.target = '_blank'\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    },\n    voltar() {\n      this.$router.back()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.detalhe-produto {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\nh2 {\n  margin-bottom: 20px;\n}\n\n.card-produto {\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  margin-bottom: 20px;\n}\n\n.info-grupo {\n  display: flex;\n  gap: 20px;\n  margin-bottom: 15px;\n}\n\n.info-item {\n  flex: 1;\n  margin-bottom: 10px;\n}\n\n.full-width {\n  flex-basis: 100%;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.status-pendente {\n  background-color: #f39c12;\n  color: white;\n}\n\n.status-aprovado {\n  background-color: #27ae60;\n  color: white;\n}\n\n.status-rejeitado {\n  background-color: #e74c3c;\n  color: white;\n}\n\n.documentos-section {\n  margin-top: 20px;\n  border-top: 1px solid #eee;\n  padding-top: 15px;\n}\n\n.documentos-lista {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.documento-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #f9f9f9;\n  padding: 10px 15px;\n  border-radius: 4px;\n}\n\n.doc-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.doc-icon {\n  font-size: 18px;\n}\n\n.doc-nome {\n  font-size: 14px;\n  word-break: break-word;\n}\n\n.doc-actions {\n  display: flex;\n  gap: 10px;\n}\n\n.btn-download {\n  padding: 5px 10px;\n  background-color: #2c3e50;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  text-decoration: none;\n  display: inline-block;\n}\n\n.loading, .loading-docs {\n  text-align: center;\n  padding: 20px;\n  color: #666;\n}\n\n.no-docs {\n  padding: 15px;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n  color: #666;\n  text-align: center;\n}\n\n.actions {\n  display: flex;\n  justify-content: flex-start;\n  margin-top: 20px;\n}\n\n.btn-secondary {\n  padding: 10px 20px;\n  background-color: #95a5a6;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n</style> ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetalheProduto.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetalheProduto.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DetalheProduto.vue?vue&type=template&id=10100f43&scoped=true\"\nimport script from \"./DetalheProduto.vue?vue&type=script&lang=js\"\nexport * from \"./DetalheProduto.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetalheProduto.vue?vue&type=style&index=0&id=10100f43&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10100f43\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","produto","staticClass","_v","_s","nome","categoriaNome","marca","modelo","fabricante","cnpj","descricao","class","status","statusFormatado","loading","documentos","length","_l","doc","key","id","getDocumentIcon","tipo","attrs","arquivo_url","on","$event","downloadDocument","voltar","staticRenderFns","name","props","produtoId","type","String","required","data","categorias","computed","categoria_id","categoria","find","c","statusMap","created","carregarCategorias","carregarProduto","methods","error","supabase","from","select","console","produtoError","eq","single","carregarDocumentos","$swal","icon","title","text","includes","link","document","createElement","href","download","target","body","appendChild","click","removeChild","$router","back","component"],"sourceRoot":""}