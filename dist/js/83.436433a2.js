"use strict";(self["webpackChunkcomprar_bem"]=self["webpackChunkcomprar_bem"]||[]).push([[83],{1083:(s,a,o)=>{o.r(a),o.d(a,{default:()=>u});var e=function(){var s=this,a=s._self._c;return a("div",{staticClass:"acesso-negado-container"},[a("div",{staticClass:"acesso-negado-content"},[s._m(0),a("div",{staticClass:"message-section"},[a("h1",[s._v("Acesso Negado")]),a("p",{staticClass:"main-message"},[s._v(" Você não tem permissão para acessar esta página. ")]),s.perfilUsuario?a("div",{staticClass:"perfil-info"},[a("div",{staticClass:"current-profile"},[a("strong",[s._v("Seu perfil atual:")]),s._v(" "+s._s(s.nomePerfilFormatado)+" ")]),a("div",{staticClass:"profile-description"},[s._v(" "+s._s(s.infoPerfil?.descricao)+" ")])]):s._e(),a("div",{staticClass:"suggestions"},[a("h3",[s._v("O que você pode fazer:")]),a("ul",[s.isCPM?a("li",[a("router-link",{attrs:{to:"/dashboard"}},[s._v("Ir para o Dashboard")])],1):s._e(),s.isCCL?a("li",[a("router-link",{attrs:{to:"/ccl"}},[s._v("Ir para o Painel CCL")])],1):s._e(),s.isOrgaoAdministrativo?a("li",[a("router-link",{attrs:{to:"/processos-administrativos"}},[s._v("Ver Processos Administrativos")])],1):s._e(),s.isAssessoriaJuridica?a("li",[a("router-link",{attrs:{to:"/processos-administrativos"}},[s._v("Ver Processos para Análise Jurídica")])],1):s._e(),a("li",[s._v("Entrar em contato com o administrador do sistema")]),a("li",[s._v("Verificar se você está logado com o usuário correto")])])]),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn-secondary",on:{click:s.voltarPagina}},[s._v(" ← Voltar ")]),a("router-link",{staticClass:"btn-primary",attrs:{to:"/"}},[s._v(" 🏠 Página Inicial ")])],1)])]),s._m(1)])},i=[function(){var s=this,a=s._self._c;return a("div",{staticClass:"icon-section"},[a("div",{staticClass:"access-denied-icon"},[s._v("🚫")])])},function(){var s=this,a=s._self._c;return a("div",{staticClass:"footer-info"},[a("p",[a("strong",[s._v("Sistema Comprar Bem")]),s._v(" • Gerenciamento de Compras Públicas ")]),a("p",{staticClass:"tech-info"},[s._v(" Para suporte técnico, entre em contato com a equipe de TI. ")])])}],r=o(4255);const t={name:"AcessoNegado",setup(){const{perfilUsuario:s,isCPM:a,isCCL:o,isOrgaoAdministrativo:e,isAssessoriaJuridica:i,infoPerfil:t,nomePerfilFormatado:c}=(0,r.e)(),n=()=>{window.history.back()};return{perfilUsuario:s,isCPM:a,isCCL:o,isOrgaoAdministrativo:e,isAssessoriaJuridica:i,infoPerfil:t,nomePerfilFormatado:c,voltarPagina:n}}},c=t;var n=o(1656),l=(0,n.A)(c,e,i,!1,null,"706260e8",null);const u=l.exports},4255:(s,a,o)=>{o.d(a,{e:()=>r});var e=o(6848),i=o(563);function r(){const s=(0,e.KR)(null),a=(0,e.KR)([]),o=(0,e.KR)(!1),r=(0,e.KR)(null),t=(0,e.EW)((()=>s.value?.perfil_usuario===i.A.PERFIS.CPM)),c=(0,e.EW)((()=>s.value?.perfil_usuario===i.A.PERFIS.CCL)),n=(0,e.EW)((()=>s.value?.perfil_usuario===i.A.PERFIS.ORGAO_ADMINISTRATIVO)),l=(0,e.EW)((()=>s.value?.perfil_usuario===i.A.PERFIS.ASSESSORIA_JURIDICA)),u=(0,e.EW)((()=>s.value?.perfil_usuario?i.A.obterInfoPerfil(s.value.perfil_usuario):null)),d=(0,e.EW)((()=>t.value)),v=(0,e.EW)((()=>!!s.value?.perfil_usuario&&i.A.isPerfilRestrito(s.value.perfil_usuario))),m=(0,e.EW)((()=>s.value?.perfil_usuario?i.A.formatarPerfil(s.value.perfil_usuario):"")),p=async()=>{try{o.value=!0,r.value=null;const[e,t]=await Promise.all([i.A.obterPerfilUsuarioAtual(),i.A.obterModulosPermitidos()]);s.value=e,a.value=t}catch(e){console.error("Erro ao carregar perfil:",e),r.value=e.message}finally{o.value=!1}},f=async(s,a=null)=>{try{return await i.A.verificarAcessoModulo(s,a)}catch(o){return console.error("Erro ao verificar acesso:",o),!1}},_=s=>{const a=["/","/login","/sobre","/contato"];return!!a.includes(s)||(t.value?!s.includes("/ccl"):c.value?s.includes("/ccl"):n.value?s.includes("/processos")&&s.includes("/administrativo"):!!l.value&&(s.includes("/processos")&&s.includes("/juridico")))},P=async()=>await f("painel_ccl"),C=async()=>await f("processos","criar"),A=async()=>await f("processos","assinar_digital")||await f("processos","assinar"),g=async()=>await f("processos","julgar"),b=async()=>await f("processos","homologar"),I=async()=>await f("processos","emitir_parecer"),h=()=>{const s=[];return t.value&&s.push({nome:"Dashboard",rota:"/dashboard",icone:"📊"},{nome:"Cadastro de Produtos",rota:"/produtos",icone:"📦"},{nome:"Catálogo de Marcas",rota:"/marcas",icone:"🏷️"},{nome:"Classificação",rota:"/classificacao",icone:"📋"},{nome:"DCB",rota:"/dcb",icone:"📄"},{nome:"RDM / Feedback",rota:"/feedback",icone:"📝"},{nome:"Processos Administrativos",rota:"/processos",icone:"⚖️"}),c.value&&s.push({nome:"Painel CCL",rota:"/ccl",icone:"⚖️"}),n.value&&s.push({nome:"Processos Administrativos",rota:"/processos/administrativo",icone:"📋"}),l.value&&s.push({nome:"Processos Administrativos",rota:"/processos/juridico",icone:"⚖️"}),s},E=()=>{if(!s.value)return"Bem-vindo!";const a=s.value.nome?.split(" ")[0]||"Usuário",o=u.value?.nome||"Sistema";return`Olá, ${a}! Você está acessando como ${o}.`};return(0,e.sV)((()=>{p()})),{perfilUsuario:s,modulosPermitidos:a,carregandoPerfil:o,erroPerfil:r,isCPM:t,isCCL:c,isOrgaoAdministrativo:n,isAssessoriaJuridica:l,infoPerfil:u,temAcessoCompleto:d,isPerfilRestrito:v,nomePerfilFormatado:m,carregarPerfil:p,verificarAcesso:f,podeAcessarRota:_,podeAcessarPainelCCL:P,podeCriarProcessos:C,podeAssinarDigitalmente:A,podeJulgarProcessos:g,podeHomologar:b,podeEmitirParecerJuridico:I,obterItensMenu:h,obterMensagemBoasVindas:E,PERFIS:i.A.PERFIS,PERFIS_INFO:i.A.PERFIS_INFO}}}}]);
//# sourceMappingURL=83.436433a2.js.map